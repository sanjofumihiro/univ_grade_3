# 第一回講義 4/6

## イントロダクション

- 出席点は基本的にカウントしない
- 単位がやばいときは出席が加味される可能性も
- 期間中に数回レポート提出がある →moodleで提出する
- 提出物3割テスト7割

## コンパイラの概要

いわゆる言語処理系.

テキスト状態のプログラムを実行可能な機械語に変換するソフトウェアのこと.

プログラムを解読する必要があるため,高度なテキスト処理が必要とされる.しかし,自然言語とは異なり人為的に仕様が決められるので翻訳のコストはある程度下げることができる.

プログラムには高水準言語と低水準言語があり,低水準言語としては機械語やアセンブリ言語が存在する.それ以外の一般に実用されているものは高水準言語である.

最初の高水準言語としてはFORTRANがあるが,当時はコンパイラのノウハウがなかったため,現在の言語とは異なる部分が多くある,



## 言語の仕様

- 正しい英文

   正しい英単語が正しく並んでいる

- 正しいプログラム

   正しい字句(**token**)が正しく並んでいる

プログラミング言語において字句のことを**マイクロ構文**と呼ぶ.マイクロ構文は字句を定義する

また,マイクロ構文の並びのことを**マクロ構文**と呼ぶ.マクロ構文は字句の並べ方を定義する

言語の仕様として,プログラミング言語の構文**syntax**はマイクロ構文とマクロ構文の２つの要素からのみ成り立つはずである.しかし,実際にはそれ以外の規則が含まれることになる.

コンパイラを作成するに当たり,マイクロ構文・マクロ構文の範囲内に収めることができないものを**制約規則**と呼ぶ.

制約規則としては型の高速などがある.

つまり,構文と制約規則を守った文字列は正しいプログラムであるということになる..

これらの構文や制約規則によって作成された文字列にプログラムとしての意味をもたせ方を**意味論(semantics)**という.

## コンパイラの構造

コンパイラによるコンパイル処理をフェーズごとに見ていく。

1. 字句解析

   テキスト(文字列)→字句列

2. 構文解析

   字句の列→プログラムの構造

3. 制約検査

   型等のプログラミング言語の制約を検査する

4. 中間コード生成 

   プログラムを一度中間的な言語に翻訳することで、コンピュータアーキテクチャの違いによらず中間コード生成までのプログラムを一本化することができる.

5. コードの最適化

6. コード生成

この講義では中間コード生成までを行う.

また、コンパイル時に字句の特徴や性質などを保持する**表管理**や、プログラムがバグを含んでいた場合にコンパイルエラーを出すための**誤り処理**などがコンパイラの機能として存在している.
